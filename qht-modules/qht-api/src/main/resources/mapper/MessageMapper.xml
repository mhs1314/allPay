<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.qht.mapper.MessageMapper">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.qht.entity.Message" id="messageMap">
        <result property="uid" column="uid"/>
        <result property="tenantId" column="tenant_id"/>
        <result property="fromId" column="from_id"/>
        <result property="toId" column="to_id"/>
        <result property="title" column="title"/>
        <result property="content" column="content"/>
        <result property="attach" column="attach"/>
        <result property="type" column="type"/>
    </resultMap>
	<!-- 教师端首页-我的消息-删除 -->
	<delete id="deleteMessage" parameterType="com.qht.model.UidAndTenantIDParam">
		delete from message where uid=#{uid} and tenant_id=#{tenant_id}
	</delete>
	
	<!-- 教师端首页-我的消息 -->
    <select id="selectIndexDelMessageDetails" resultType="com.qht.model.IndexMessageModel" parameterType="com.qht.model.IndexMessageParam">
    	select s.head,m.uid,m.isread,s.nickname,m.content 
    	from message m 
    		left join student s on m.from_id=s.uid 
    	where m.uid=#{uid} and tenant_id=#{tenant_id} 
    </select>
</mapper>